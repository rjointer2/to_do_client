
// next
import Head from 'next/head';
import { useRouter } from 'next/router';

// components
import Navbar from '../client_modules/components/Navbar/Navbar';
import { Dropdown } from '../client_modules/components/Components_DropDown/DropDown/DropDown';

// react
import { useContext, useEffect } from 'react';
import Context from '../client_modules/state_mangement/context';
import { useQuery } from '@apollo/client';

// apollo
import { TODOS } from '../client_modules/apollo_client/querys/todos';




export default function Home() {

  let offset = 0
  let limit = 10

  const { data: todoData, error: todoError, loading: todoLoading, fetchMore: getMoreTodos } = useQuery(TODOS, {
    variables: {  "offset": offset, "limit": limit }
  });

  useEffect(() => {
    console.log(todoLoading)
    if(todoData) {
      console.log(todoData.todos)
    }
  }, [todoData]);


  if(todoLoading) return <h1>Loading...</h1>
  

  return (
    <>
      <Head>
        <title>To Do App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <Dropdown />
      <Navbar />

      <div>
        Hello World
      </div>
      
      
    </>
  )
}
